- [chakra-uiでダークモードを導入](#chakra-uiでダークモードを導入)
  - [サイトのテーマを変える](#サイトのテーマを変える)
  - [1. プロバイダーにチャクラUIのプロバイダーを追加](#1-プロバイダーにチャクラuiのプロバイダーを追加)
  - [2. ルートレイアウトにプロバイダーを追加](#2-ルートレイアウトにプロバイダーを追加)
- [テーマのカスタマイズ](#テーマのカスタマイズ)

# chakra-uiでダークモードを導入
>[chakra-uiでダークモードを導入する手順](https://zenn.dev/arusi/articles/629c900de4da2b)

!!! warning chakra-uiでダークモードを導入するのなら、ルートレイアウト`app/layout.tsx`の`import './globals.css';`を消す必要がある

## サイトのテーマを変える
一番手っ取り早いのが chakra-ui に入っているダークモードをそのまま利用すること

chakra-ui のコンポーネントはデフォルトでダークモードに対応しており、全体の設定を切り替えると見た目を変えることが出来ます。
- モードの切り替え、取得にはuseColorModeを使います。
>テーマスイッチボタン
```typescript
import { IconButton, IconButtonProps, Tooltip, useColorMode } from "@chakra-ui/react";
import { FaMoon, FaSun } from "react-icons/fa"

export const ColorSwitchButton: React.FC<IconButtonProps> = props => {
  const { colorMode, toggleColorMode } = useColorMode()
  const tooltipLabel = colorMode === "light" ? 
      "ダークモードへ切り替えます" : "ライトモードへ切り替えます"
  return (<Tooltip label={tooltipLabel}>
    <IconButton {...props}
      icon={colorMode === "light" ? <FaMoon /> : <FaSun />}
      onClick={toggleColorMode}
    />
  </Tooltip>)
}
```
## 1. プロバイダーにチャクラUIのプロバイダーを追加
>app/providers.tsx
```typescript
'use client';

import { CacheProvider } from '@chakra-ui/next-js';
import { ChakraProvider, extendTheme } from '@chakra-ui/react';
import { Provider as ReduxProvider } from 'react-redux';
import { store as ReduxStore } from '@/redux/store';

const theme = {
  config: {
    initialColorMode: 'dark', // ダークモードをデフォルトに設定
    useSystemColorMode: false, // OSの設定を使わせない
  },
};

export function Providers({ children }: { children: React.ReactNode }) {
  return (
    <ReduxProvider store={ReduxStore}>
      <CacheProvider>
        <ChakraProvider theme={extendTheme(theme)}>{children}</ChakraProvider>
      </CacheProvider>
    </ReduxProvider>
  );
}
```
## 2. ルートレイアウトにプロバイダーを追加
>layout.tsx
```typescript
// import './globals.css';
import type { Metadata } from 'next';
import { Inter } from 'next/font/google';
import { CounterProvider } from './context/CounterProvider';
import { Providers } from './providers';

const inter = Inter({ subsets: ['latin'] });

export const metadata: Metadata = {
  title: 'Feedays',
  description: 'Generated by create next app',
};

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang='en'>
      <body>
        <Providers>{children}</Providers>
      </body>
    </html>
  );
}
```




# テーマのカスタマイズ
デフォルトのテーマオブジェクトをあなたのデザイン要件に合わせてカスタマイズする場合は、テーマを拡張する必要があります。

Chakra UIはextendTheme関数を提供し、デフォルトのテーマとあなたのカスタマイズを統合します。
>app/providers.tsx
```typescript
'use client'

import { CacheProvider } from '@chakra-ui/next-js'
import { ChakraProvider } from '@chakra-ui/react'

// 1. Import the extendTheme function
import { extendTheme } from '@chakra-ui/react'

// 2. Extend the theme to include custom colors, fonts, etc
const colors = {
  brand: {
    900: '#1a365d',
    800: '#153e75',
    700: '#2a69ac',
  },
}

export const theme = extendTheme({ colors })

export function Providers({ 
    children 
  }: { 
  children: React.ReactNode 
  }) {
  return (
    <CacheProvider>
      <ChakraProvider theme={theme}>
        {children}
      </ChakraProvider>
    </CacheProvider>
  )
}
```

!!! info コンポーネントをさらにカスタマイズしたり、独自の設計システムを構築するために、theme-toolsパッケージには便利なユーティリティが含まれています。

