
# React Hooks
>https://zenn.dev/yumemi_inc/articles/2020-09-21-react-basics#react-hooks

React 16.8 より React Hooks という機能が導入されました。
これにより、今までクラスコンポーネントでしか使うことのできなかった state や ライフサイクルなどの機能を、関数コンポーネントへ付与できるようになりました。
use〇〇という名称が特徴です。

!!! warning クラスコンポーネントで使える機能が関数コンポーネントでも使えるというのは、おおよそ間違ってはいないが、厳密には微妙に仕様が異なる部分もあることに注意
    詳細は公式ドキュメント

## フックのルール
フックのルールとしては、以下の2つがあります。
- フックは関数のトップレベルのみで呼び出すこと（ループや条件分岐、ネストした関数の中では呼び出さない）
- フックは React の関数コンポーネントの内部もしくはカスタムフックの内部でのみ呼び出すこと

これらのルールを強制するための ESLint ルールがあるため、それを利用すると変な使い方をせずにすみます。
- （Create React App で作った環境の場合は、react-scripts の依存関係として導入されています）

# フックの種類
>[公式](https://ja.reactjs.org/docs/hooks-reference.html)
基本的には、最後の3つはあまり使いません。
- useState：
  - state 機能を提供するフック（現在の state の値と、state を更新するための関数を返す）
- useEffect：
  - 副作用のためのフック（マウント時・アンマウント時の処理、依存配列にある特定の値変更を検知して特定の処理実行など）
- useContext：
  - コンテクスト（props を使わず、コンポーネント間でデータを共有できるもの）オブジェクトを受け取り、そのコンテクストの現在値を返すフック
- useReducer：
  - useState の代替となるフック（より複雑な state ロジックがある場合などに有効）
- useCallback：
  - メモ化されたコールバックを返すフック（依存配列にある値が変化した時のみ再生成するようにするため、パフォーマンス最適化に活用）
- useMemo：
  - メモ化された値を返すフック（計算結果などをメモ化。依存配列にある値が変化した時のみ再計算するようにするため、パフォーマンス最適化に活用）
- useRef：
  - ミュータブルな ref オブジェクトを返すフック（特定の DOM 要素へのアクセスや、置き換え可能な値を保持に使える）
- useImperativeHandle：
  - 親コンポーネントから渡された ref をカスタマイズするフック（ref を通して、子コンポーネントで定義した関数を親コンポーネントから呼び出すのに使える）
- useLayoutEffect：
  - useEffect と類似しているが、呼び出されるタイミングが微妙に異なるフック（基本的には useEffect を使うのを推奨している）
- useDebugValue：
  - React DevTools でカスタムフックのラベル表示ができるフック

## カスタムフック
フックは、自分で独自のものを作ることも出来ます。
- use〇〇の命名規則
- カスタムフックのトップレベルで他のフックを呼び出せる

これ以外は、通常の関数と同じです。

!!! info コンポーネントファイルにロジックを書くとごちゃごちゃしがちなので、カスタムフックに処理を切り出して、そのロジックを使いたいコンポーネントで適宜呼び出すという使い方をします。



































